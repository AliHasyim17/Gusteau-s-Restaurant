!(function (n) { function e(e) { for (var r, o, s = e[0], u = e[1], c = e[2], l = 0, d = []; l < s.length; l++)o = s[l], Object.prototype.hasOwnProperty.call(a, o) && a[o] && d.push(a[o][0]), a[o] = 0; for (r in u)Object.prototype.hasOwnProperty.call(u, r) && (n[r] = u[r]); for (p && p(e); d.length;)d.shift()(); return i.push.apply(i, c || []), t(); } function t() { for (var n, e = 0; e < i.length; e++) { for (var t = i[e], r = !0, s = 1; s < t.length; s++) { const u = t[s]; a[u] !== 0 && (r = !1); }r && (i.splice(e--, 1), n = o(o.s = t[0])); } return n; } const r = {}; var a = { 2: 0 }; var i = []; function o(e) { if (r[e]) return r[e].exports; const t = r[e] = { i: e, l: !1, exports: {} }; return n[e].call(t.exports, t, t.exports, o), t.l = !0, t.exports; }o.m = n, o.c = r, o.d = function (n, e, t) { o.o(n, e) || Object.defineProperty(n, e, { enumerable: !0, get: t }); }, o.r = function (n) { typeof Symbol !== 'undefined' && Symbol.toStringTag && Object.defineProperty(n, Symbol.toStringTag, { value: 'Module' }), Object.defineProperty(n, '__esModule', { value: !0 }); }, o.t = function (n, e) { if (1 & e && (n = o(n)), 8 & e) return n; if (4 & e && typeof n === 'object' && n && n.__esModule) return n; const t = Object.create(null); if (o.r(t), Object.defineProperty(t, 'default', { enumerable: !0, value: n }), 2 & e && typeof n !== 'string') for (const r in n)o.d(t, r, ((e) => n[e]).bind(null, r)); return t; }, o.n = function (n) { const e = n && n.__esModule ? function () { return n.default; } : function () { return n; }; return o.d(e, 'a', e), e; }, o.o = function (n, e) { return Object.prototype.hasOwnProperty.call(n, e); }, o.p = ''; let s = window.webpackJsonp = window.webpackJsonp || []; const u = s.push.bind(s); s.push = e, s = s.slice(); for (let c = 0; c < s.length; c++)e(s[c]); var p = u; i.push([14, 1, 0]), t(); }([,,,,,,, function (n, e, t) { const r = t(2); let a = t(8); typeof (a = a.__esModule ? a.default : a) === 'string' && (a = [[n.i, a, '']]); const i = { insert: 'head', singleton: !1 }; r(a, i); n.exports = a.locals || {}; }, function (n, e, t) { const r = t(3); const a = t(9); const i = t(10); (e = r(!1)).push([n.i, '@import url(https://fonts.googleapis.com/css2?family=Patrick+Hand&display=swap);']); const o = a(i); e.push([n.i, `* {\n    padding: 0;\n    margin: 0;\n    box-sizing: border-box;\n}\n\nbody{\n    font-family: 'Patrick Hand', cursive;\n}\n\n/* skip link */\n\n.skip-link {\n    position: absolute;\n    top: -40px;\n    left: 0;\n    background-color: #FF7700;\n    color: white;\n    padding: 8px;\n    z-index: 100;\n}\n\n.skip-link:focus {\n    top: 0;\n}\n\n/* Header */\n\n.header {\n    min-height: 56px;\n    transition: min-height 0.3s;\n    background-color: #1D5C63;\n}\n\n.header-inner {\n    width: 100%;\n    text-align: center;\n    margin-left: auto;\n    margin-right: auto;\n}\n\n.header-title {\n    font-weight: 300;\n    font-size: 4em;\n    margin: 0.5em 0.25em;\n    display: inline-block;\n    color: white;\n}\n\n.header-menu {\n    font-size: 32px;\n    margin: 0 auto;\n    display: block;\n    width: 44px;\n    background-color: #FF7700;\n    border-radius: 4px;\n}\n\n/* nav */\n\n.nav {\n    width: 100%;\n    margin-left: auto;\n    margin-right: auto;\n    text-align: center;\n    background-color: #FF7700;\n}\n\n.nav-list {\n    width: 100%;\n    padding: 0;\n    margin: 0;\n}\n\n.nav-item {\n    box-sizing: border-box;\n    display: inline-block;\n    width: 24%;\n    text-align: center;\n    line-height: 24px;\n    padding: 24px;\n    text-transform: uppercase;\n}\n\n.nav a {\n    display: inline-block;\n    padding: 1.3em;\n    text-decoration: none;\n    color: black;\n}\n\n/* hero */\n\n.hero{\n    display: flex;\n    align-items: center;\n    width: 100%;\n    min-height: 480px;\n    background-image: url(${o});\n    text-align: center;\n    background-color: aqua;\n}\n\n.hero-text{\n    margin: 0 auto;\n    color: white;\n}\n\n.explore{\n    width: 100%;\n    margin: 60px auto;\n    text-align: center;\n}\n\n/* main */\n\nmain{\n    width: 100%;\n}\n\n.content{\n    margin: 0 auto;\n    min-height: 100%;\n}\n\n/* restaurants */\n\n.restaurants {\n    display: grid;\n    grid-template-columns: 1fr;\n    gap: 16px;\n    margin: 32px 0;\n    padding: 20px;\n}\n\n/* favorite page */\n.favorite-page{\n    font-size: 30px;\n    text-align: center;\n    padding: 20px;\n}\n/* post */\n\n.post-item {\n    margin: 16px 0;\n    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);\n    width: 100%;\n    border-radius: 5px;\n    overflow: hidden;\n}\n.post-img-container{\n    position: relative;\n}\n\n.post-item-img{\n    width: 100%;\n    min-height: 300px\n}\n\n.post-item-location{\n    background-color: #1D5C63;\n    padding: 10px 50px;\n    text-align: center;\n    position: absolute;\n    color: white;\n    top: 5%;\n}\n\n.post-item-content {\n    padding: 32px 32px 32px 32px;\n}\n\n.post-item-content h1 {\n    font-weight: bold;\n    font-size: 18px;\n    margin-top: 16px;\n    transition: 0.3s opacity;\n}\n\n.post-item-title:hover {\n    opacity: 0.5;\n}\n\n.post-item-title a {\n    text-decoration: none;\n    color: inherit;\n    padding: 1.3em;\n}\n\n.post-item-description {\n    margin-top: 16px;\n    font-size: 14px;\n    line-height: 1.5em;\n}\n\n.post-item .post-item-content .post-item-description{\n    overflow: hidden;\n    text-overflow: ellipsis;\n    display: -webkit-box;\n    -webkit-line-clamp: 4; /* number of lines to show */\n    -webkit-box-orient: vertical;\n}\n\n   \n/*\n  detail\n*/\n \n.detail {\n    margin: 0 auto;\n    width: 100%;\n    max-width: 800px;\n    display: grid;\n    grid-template-columns: 1fr;\n    gap: 18px 16px;\n    padding: 20px;\n}\n   \n.detail .detail-img {\n    width: 100%;\n    max-width: 400px;\n}\n   \n.detail .detail-info h4 {\n    margin: 8px 0;\n}\n\n.detail-overview p{\n    padding-right: 20px;\n}\n\n.detail-review-list{\n    border: #1D5C63;\n    border-radius: 4px;\n    padding: 20px;\n    background-color: #1D5C63;\n    color: white;\n    margin-bottom: 20px;\n}\n\n.detail-review-name{\n    color: black;\n    padding-bottom: 10px;\n}\n\n.detail-review-date{\n    font-size: 12px;\n    color: grey;\n}\n\n\n/* footer */\n\nfooter{\n    background-color: #1D5C63;\n    padding: 20px;\n    text-align: center;\n    width: 100%;\n}\n\nfooter h2{\n    font-size: 20px;\n    color: white;\n    padding: 20px;\n}\n\nfooter p {\n  text-align: center;\n  color: #aaaaaa;\n}\n \nfooter p a {\n  color: #FF7700;\n  padding: 1.3em;\n  text-decoration: none;\n}\n\n/*\n   Like\n*/\n.like {\n    font-size: 18px;\n    position: fixed;\n    bottom: 16px;\n    right: 16px;\n    background-color: #FF7700;\n    color: white;\n    border: 0;\n    border-radius: 50%;\n    width: 55px;\n    height: 55px;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n`, '']), n.exports = e; },, function (n, e, t) {
  t.r(e), e.default = `${t.p}5d982326781d6f8ea98b7c2d8f958fc5.jpg`;
}, function (n, e, t) { const r = t(2); let a = t(12); typeof (a = a.__esModule ? a.default : a) === 'string' && (a = [[n.i, a, '']]); const i = { insert: 'head', singleton: !1 }; r(a, i); n.exports = a.locals || {}; }, function (n, e, t) { (e = t(3)(!1)).push([n.i, '.posts {\r\n    display: grid;\r\n    grid-row-gap: 16px;\r\n}\r\n\r\n@media screen and (max-width: 750px) {  \r\n    .nav {\r\n        z-index: 10;\r\n        background-color: #FF7700;\r\n        width: 300px;\r\n        position: absolute;\r\n\r\n        -webkit-transform: translate(-300px, 0);\r\n        transform: translate(-300px, 0);\r\n\r\n        transition: transform 0.3s ease;\r\n\r\n    }\r\n    .open {\r\n        -webkit-transform: translate(0, 0);\r\n        transform: translate(0, 0);\r\n    }\r\n\r\n    .nav-item {\r\n        display: list-item;\r\n        border-bottom: 1px solid black;\r\n        width: 100%;\r\n        text-align: left;\r\n    }\r\n}\r\n\r\n@media screen and (min-width: 750px) {\r\n    .header-menu {\r\n        display: none;\r\n    }\r\n}\r\n\r\n@media screen and (max-width: 300px) {\r\n    .header-title {\r\n        font-size: 35px;\r\n    }\r\n    .nav{\r\n        max-width: 200px;\r\n    }\r\n}\r\n\r\n@media screen and (max-width: 375px) {\r\n    .post-item-img{\r\n        width: 100%;\r\n        min-height: 100px\r\n    }\r\n}\r\n\r\n\r\n@media screen and (min-width: 650px) {\r\n    .post-item-content {\r\n        padding: 16px 32px 32px 32px;\r\n    }\r\n\r\n    .post-item-title {\r\n        font-size: 18px;\r\n    }\r\n\r\n    .post-item-description {\r\n        font-size: 14px;\r\n    }\r\n}\r\n\r\n@media screen and (min-width: 700px){\r\n    .restaurants {\r\n        display: grid;\r\n        grid-template-columns: 1fr 1fr;\r\n        gap: 20px;\r\n    }\r\n}\r\n\r\n@media screen and (min-width: 1000px){\r\n    .restaurants {\r\n        display: grid;\r\n        grid-template-columns: 1fr 1fr 1fr;\r\n        gap: 20px;\r\n    }\r\n}\r\n\r\n@media screen and (min-width: 1200px){\r\n    .restaurants {\r\n        display: grid;\r\n        grid-template-columns: 1fr 1fr 1fr 1fr;\r\n        gap: 20px;\r\n    }\r\n}', '']), n.exports = e; },, function (n, e, t) {
    t.r(e); t(6), t(7), t(11); const r = { init(n) { const e = this; const t = n.button; const r = n.drawer; const a = n.content; t.addEventListener('click', ((n) => { e._toggleDrawer(n, r); })), a.addEventListener('click', ((n) => { e._closeDrawer(n, r); })); }, _toggleDrawer(n, e) { n.stopPropagation(), e.classList.toggle('open'); }, _closeDrawer(n, e) { n.stopPropagation(), e.classList.remove('open'); } }; const a = {
      parseActiveUrlWithCombiner() { const n = window.location.hash.slice(1).toLowerCase(); const e = this._urlSplitter(n); return this._urlCombiner(e); }, parseActiveUrlWithoutCombiner() { const n = window.location.hash.slice(1).toLowerCase(); return this._urlSplitter(n); }, _urlSplitter(n) { const e = n.split('/'); return { resource: e[1] || null, id: e[2] || null, verb: e[3] || null }; }, _urlCombiner(n) { return (n.resource ? '/'.concat(n.resource) : '/') + (n.id ? '/:id' : '') + (n.verb ? '/'.concat(n.verb) : ''); },
    }; const i = {
      BASE_URL: 'https://restaurant-api.dicoding.dev/', BASE_IMAGE_URL: 'https://restaurant-api.dicoding.dev/images/medium/', CACHE_NAME: (new Date()).toISOString(), DATABASE_NAME: 'gusteaus-restaurant-database', DATABASE_VERSION: 1, OBJECT_STORE_NAME: 'restaurants',
    }; const o = { HOME_PAGE: ''.concat(i.BASE_URL, 'list'), DETAIL(n) { return ''.concat(i.BASE_URL, 'detail/').concat(n); } }; function s(n, e, t, r, a, i, o) { try { var s = n[i](o); var u = s.value; } catch (n) { return void t(n); }s.done ? e(u) : Promise.resolve(u).then(r, a); } function u(n) { return function () { const e = this; const t = arguments; return new Promise(((r, a) => { const i = n.apply(e, t); function o(n) { s(i, r, a, o, u, 'next', n); } function u(n) { s(i, r, a, o, u, 'throw', n); }o(void 0); })); }; } function c(n, e) { for (let t = 0; t < e.length; t++) { const r = e[t]; r.enumerable = r.enumerable || !1, r.configurable = !0, 'value' in r && (r.writable = !0), Object.defineProperty(n, r.key, r); } } const p = (function () { function n() { !(function (n, e) { if (!(n instanceof e)) throw new TypeError('Cannot call a class as a function'); }(this, n)); } let e; let t; let r; let a; let i; return e = n, t = null, r = [{ key: 'homePage', value: (i = u(regeneratorRuntime.mark((function n() { let e; let t; return regeneratorRuntime.wrap(((n) => { for (;;) switch (n.prev = n.next) { case 0: return n.next = 2, fetch(o.HOME_PAGE); case 2: return e = n.sent, n.next = 5, e.json(); case 5: return t = n.sent, n.abrupt('return', t.restaurants); case 7: case 'end': return n.stop(); } }), n); }))), function () { return i.apply(this, arguments); }) }, { key: 'detailRestaurant', value: (a = u(regeneratorRuntime.mark((function n(e) { let t; let r; return regeneratorRuntime.wrap(((n) => { for (;;) switch (n.prev = n.next) { case 0: return n.next = 2, fetch(o.DETAIL(e)); case 2: return t = n.sent, n.next = 5, t.json(); case 5: return r = n.sent, n.abrupt('return', r.restaurant); case 7: case 'end': return n.stop(); } }), n); }))), function (n) { return a.apply(this, arguments); }) }], t && c(e.prototype, t), r && c(e, r), Object.defineProperty(e, 'prototype', { writable: !1 }), n; }()); const l = (t(1), t(13), function (n) {
      return '\n                <article class="restaurant post-item">\n                    <div class="post-img-container">\n                    <img class="post-item-img lazyload"\n                        data-src="'.concat(i.BASE_IMAGE_URL + n.pictureId, '"\n                        alt="').concat(n.name || '-', '">\n                        <p class="post-item-location">').concat(n.city, '</p>\n                    </div>\n                    <div class="post-item-content">\n                        <p class="post-item-rating">⭐️ ').concat(n.rating || '-', '</p>\n                        <h1 class="restaurant__name"><a href="', '/#/detail/'.concat(n.id), '">')
        .concat(n.name || '-', '</a></h1>\n                        <p class="post-item-description">')
        .concat(n.description || '-', '</p>\n                    </div>\n                </article>\n');
    }); const d = function (n) {
      return '\n    <h2 class="detail-title">'.concat(n.name, '</h2>\n    <img class="detail-img" src="').concat(i.BASE_IMAGE_URL + n.pictureId, '" alt="').concat(n.name, '" />\n    <div class="detail-info">\n        <h3>Information</h3>\n        <h4>City</h4>\n        <p>').concat(n.city, '</p>\n        <h4>Rating</h4>\n        <p>⭐️ ')
        .concat(n.rating, '</p>\n        <h4>Alamat</h4>\n        <p>')
        .concat(n.address, '</p>\n        <h4>Categories</h4>\n        <p>')
        .concat(n.categories.map(((n) => '\n        '.concat(n.name))), '</p>\n        <h4>Menu Makanan</h4>\n        <p>')
        .concat(n.menus.foods.map(((n) => '\n        '.concat(n.name))), '</p>\n        <h4>Menu Minuman</h4>\n        <p>')
        .concat(n.menus.drinks.map(((n) => '\n        '.concat(n.name))), '</p>\n    </div>\n    <div class="detail-overview">\n        <h3>Overview</h3>\n        <p>')
        .concat(n.description, '</p>\n    </div>\n    <div class="detail-review">\n      <h3>Reviews</h3>\n      ')
        .concat(n.customerReviews.map(((n) => '\n      <div class="detail-review-list">\n          <p class="detail-review-name"> <i class="fa-solid fa-user"></i>  '.concat(n.name, '</p>\n          <p class="detail-review-comment">').concat(n.review, '</p>\n          <p class="detail-review-date">').concat(n.date, '</p>\n      </div>\n      '))).join(' '), '\n    </div>\n');
    }; function f(n, e, t, r, a, i, o) { try { var s = n[i](o); var u = s.value; } catch (n) { return void t(n); }s.done ? e(u) : Promise.resolve(u).then(r, a); } function h(n) { return function () { const e = this; const t = arguments; return new Promise(((r, a) => { const i = n.apply(e, t); function o(n) { f(i, r, a, o, s, 'next', n); } function s(n) { f(i, r, a, o, s, 'throw', n); }o(void 0); })); }; } const v = { render() { return h(regeneratorRuntime.mark((function n() { return regeneratorRuntime.wrap(((n) => { for (;;) switch (n.prev = n.next) { case 0: return n.abrupt('return', '\n    <div class="hero">\n      <div class="hero-text">\n        <h1>Find your favorite restaurant</h1>\n        <p>Food is for eating, and good food is to be enjoyed. Nothing brings people together like a good food...</p>\n      </div>\n    </div>\n\n    <div class="explore">\n        <h1 class="explore-label">Explore Restaurant</h1>\n    </div>\n\n    <div class="content">\n        <div id="restaurants" class="restaurants">\n\n        </div>\n    </div>\n    '); case 1: case 'end': return n.stop(); } }), n); })))(); }, afterRender() { return h(regeneratorRuntime.mark((function n() { let e; let t; return regeneratorRuntime.wrap(((n) => { for (;;) switch (n.prev = n.next) { case 0: return n.next = 2, p.homePage(); case 2: e = n.sent, t = document.querySelector('#restaurants'), e.forEach(((n) => { t.innerHTML += l(n); })); case 5: case 'end': return n.stop(); } }), n); })))(); } }; const m = t(5); function g(n, e, t, r, a, i, o) { try { var s = n[i](o); var u = s.value; } catch (n) { return void t(n); }s.done ? e(u) : Promise.resolve(u).then(r, a); } function w(n) { return function () { const e = this; const t = arguments; return new Promise(((r, a) => { const i = n.apply(e, t); function o(n) { g(i, r, a, o, s, 'next', n); } function s(n) { g(i, r, a, o, s, 'throw', n); }o(void 0); })); }; } const x = i.DATABASE_NAME; const b = i.DATABASE_VERSION; const y = i.OBJECT_STORE_NAME; const k = Object(m.a)(x, b, { upgrade(n) { n.createObjectStore(y, { keyPath: 'id' }); } }); const R = {
      getRestaurant(n) { return w(regeneratorRuntime.mark((function e() { return regeneratorRuntime.wrap(((e) => { for (;;) switch (e.prev = e.next) { case 0: if (n) { e.next = 2; break; } return e.abrupt('return'); case 2: return e.next = 4, k; case 4: return e.abrupt('return', e.sent.get(y, n)); case 5: case 'end': return e.stop(); } }), e); })))(); }, getAllRestaurant() { return w(regeneratorRuntime.mark((function n() { return regeneratorRuntime.wrap(((n) => { for (;;) switch (n.prev = n.next) { case 0: return n.next = 2, k; case 2: return n.abrupt('return', n.sent.getAll(y)); case 3: case 'end': return n.stop(); } }), n); })))(); }, putRestaurant(n) { return w(regeneratorRuntime.mark((function e() { return regeneratorRuntime.wrap(((e) => { for (;;) switch (e.prev = e.next) { case 0: if (n.hasOwnProperty('id')) { e.next = 2; break; } return e.abrupt('return'); case 2: return e.next = 4, k; case 4: return e.abrupt('return', e.sent.put(y, n)); case 5: case 'end': return e.stop(); } }), e); })))(); }, deleteRestaurant(n) { return w(regeneratorRuntime.mark((function e() { return regeneratorRuntime.wrap(((e) => { for (;;) switch (e.prev = e.next) { case 0: return e.next = 2, k; case 2: return e.abrupt('return', e.sent.delete(y, n)); case 3: case 'end': return e.stop(); } }), e); })))(); }, searchRestaurants(n) { const e = this; return w(regeneratorRuntime.mark((function t() { return regeneratorRuntime.wrap(((t) => { for (;;) switch (t.prev = t.next) { case 0: return t.next = 2, e.getAllRestaurant(); case 2: return t.abrupt('return', t.sent.filter(((e) => { const t = (e.name || '-').toLowerCase().replace(/\s/g, ''); const r = n.toLowerCase().replace(/\s/g, ''); return t.indexOf(r) !== -1; }))); case 3: case 'end': return t.stop(); } }), t); })))(); },
    }; function _(n, e) { for (let t = 0; t < e.length; t++) { const r = e[t]; r.enumerable = r.enumerable || !1, r.configurable = !0, 'value' in r && (r.writable = !0), Object.defineProperty(n, r.key, r); } } const E = (function () { function n() { !(function (n, e) { if (!(n instanceof e)) throw new TypeError('Cannot call a class as a function'); }(this, n)); } let e; let t; let r; return e = n, (t = [{ key: 'getTemplate', value() { return '\n      <div class="content">\n      <input id="query" type="text">\n      <h2 class="favorite-page">Your Liked Restaurant</h2>\n          <div id="restaurants" class="restaurants">\n\n          </div>\n       </div>\n       '; } }, { key: 'runWhenUserIsSearching', value(n) { document.getElementById('query').addEventListener('change', ((e) => { n(e.target.value); })); } }, { key: 'showRestaurants', value(n) { this.showFavoriteRestaurants(n); } }, { key: 'showFavoriteRestaurants', value() { let n; const e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []; n = e.length ? e.reduce(((n, e) => n.concat(l(e))), '') : this._getEmptyRestaurantTemplate(), document.getElementById('restaurants').innerHTML = n, document.getElementById('restaurants').dispatchEvent(new Event('restaurants:updated')); } }, { key: '_getEmptyRestaurantTemplate', value() { return '<div class="restaurant-item__not__found">Tidak ada resto untuk ditampilkan</div>'; } }]) && _(e.prototype, t), r && _(e, r), Object.defineProperty(e, 'prototype', { writable: !1 }), n; }()); function P(n, e, t, r, a, i, o) { try { var s = n[i](o); var u = s.value; } catch (n) { return void t(n); }s.done ? e(u) : Promise.resolve(u).then(r, a); } function A(n, e) { for (let t = 0; t < e.length; t++) { const r = e[t]; r.enumerable = r.enumerable || !1, r.configurable = !0, 'value' in r && (r.writable = !0), Object.defineProperty(n, r.key, r); } } const S = (function () { function n(e) { const t = e.view; const r = e.favoriteRestaurants; !(function (n, e) { if (!(n instanceof e)) throw new TypeError('Cannot call a class as a function'); }(this, n)), this._view = t, this._favoriteRestaurants = r, this._showFavoriteRestaurants(); } let e; let t; let r; let a; let i; return e = n, (t = [{ key: '_showFavoriteRestaurants', value: (a = regeneratorRuntime.mark((function n() { let e; return regeneratorRuntime.wrap((function (n) { for (;;) switch (n.prev = n.next) { case 0: return n.next = 2, this._favoriteRestaurants.getAllRestaurant(); case 2: e = n.sent, this._displayRestaurants(e); case 4: case 'end': return n.stop(); } }), n, this); })), i = function () { const n = this; const e = arguments; return new Promise(((t, r) => { const i = a.apply(n, e); function o(n) { P(i, t, r, o, s, 'next', n); } function s(n) { P(i, t, r, o, s, 'throw', n); }o(void 0); })); }, function () { return i.apply(this, arguments); }) }, { key: '_displayRestaurants', value(n) { this._view.showFavoriteRestaurants(n); } }]) && A(e.prototype, t), r && A(e, r), Object.defineProperty(e, 'prototype', { writable: !1 }), n; }()); function C(n, e, t, r, a, i, o) { try { var s = n[i](o); var u = s.value; } catch (n) { return void t(n); }s.done ? e(u) : Promise.resolve(u).then(r, a); } function O(n, e) { for (let t = 0; t < e.length; t++) { const r = e[t]; r.enumerable = r.enumerable || !1, r.configurable = !0, 'value' in r && (r.writable = !0), Object.defineProperty(n, r.key, r); } } const L = (function () { function n(e) { const t = e.favoriteRestaurants; const r = e.view; !(function (n, e) { if (!(n instanceof e)) throw new TypeError('Cannot call a class as a function'); }(this, n)), this._view = r, this._listenToSearchRequestByUser(), this._favoriteRestaurants = t; } let e; let t; let r; let a; let i; return e = n, (t = [{ key: '_listenToSearchRequestByUser', value() { const n = this; this._view.runWhenUserIsSearching(((e) => { n._searchRestaurants(e); })); } }, { key: '_searchRestaurants', value: (a = regeneratorRuntime.mark((function n(e) { let t; return regeneratorRuntime.wrap((function (n) { for (;;) switch (n.prev = n.next) { case 0: if (this._latestQuery = e.trim(), !(this.latestQuery.length > 0)) { n.next = 7; break; } return n.next = 4, this._favoriteRestaurants.searchRestaurants(this.latestQuery); case 4: t = n.sent, n.next = 10; break; case 7: return n.next = 9, this._favoriteRestaurants.getAllRestaurant(); case 9: t = n.sent; case 10: this._showFoundRestaurants(t); case 11: case 'end': return n.stop(); } }), n, this); })), i = function () { const n = this; const e = arguments; return new Promise(((t, r) => { const i = a.apply(n, e); function o(n) { C(i, t, r, o, s, 'next', n); } function s(n) { C(i, t, r, o, s, 'throw', n); }o(void 0); })); }, function (n) { return i.apply(this, arguments); }) }, { key: '_showFoundRestaurants', value(n) { this._view.showFavoriteRestaurants(n); } }, { key: 'latestQuery', get() { return this._latestQuery; } }]) && O(e.prototype, t), r && O(e, r), Object.defineProperty(e, 'prototype', { writable: !1 }), n; }()); function B(n, e, t, r, a, i, o) { try { var s = n[i](o); var u = s.value; } catch (n) { return void t(n); }s.done ? e(u) : Promise.resolve(u).then(r, a); } function T(n) { return function () { const e = this; const t = arguments; return new Promise(((r, a) => { const i = n.apply(e, t); function o(n) { B(i, r, a, o, s, 'next', n); } function s(n) { B(i, r, a, o, s, 'throw', n); }o(void 0); })); }; } const j = new E(); function M(n, e, t, r, a, i, o) { try { var s = n[i](o); var u = s.value; } catch (n) { return void t(n); }s.done ? e(u) : Promise.resolve(u).then(r, a); } function F(n) { return function () { const e = this; const t = arguments; return new Promise(((r, a) => { const i = n.apply(e, t); function o(n) { M(i, r, a, o, s, 'next', n); } function s(n) { M(i, r, a, o, s, 'throw', n); }o(void 0); })); }; } const D = {
      init(n) { const e = this; return F(regeneratorRuntime.mark((function t() { let r; let a; let i; return regeneratorRuntime.wrap(((t) => { for (;;) switch (t.prev = t.next) { case 0: return r = n.likeButtonContainer, a = n.favoriteRestaurants, i = n.restaurant, e._likeButtonContainer = r, e._restaurant = i, e._favoriteRestaurants = a, t.next = 6, e._renderButton(); case 6: case 'end': return t.stop(); } }), t); })))(); }, _renderButton() { const n = this; return F(regeneratorRuntime.mark((function e() { let t; return regeneratorRuntime.wrap(((e) => { for (;;) switch (e.prev = e.next) { case 0: return t = n._restaurant.id, e.next = 3, n._isRestaurantExist(t); case 3: if (!e.sent) { e.next = 7; break; }n._renderLiked(), e.next = 8; break; case 7: n._renderLike(); case 8: case 'end': return e.stop(); } }), e); })))(); }, _isRestaurantExist(n) { const e = this; return F(regeneratorRuntime.mark((function t() { let r; return regeneratorRuntime.wrap(((t) => { for (;;) switch (t.prev = t.next) { case 0: return t.next = 2, e._favoriteRestaurants.getRestaurant(n); case 2: return r = t.sent, t.abrupt('return', !!r); case 4: case 'end': return t.stop(); } }), t); })))(); }, _renderLike() { const n = this; this._likeButtonContainer.innerHTML = '\n  <button aria-label="like this restaurant" id="likeButton" class="like">\n     <i class="fa fa-heart-o" aria-hidden="true"></i>\n  </button>\n', document.querySelector('#likeButton').addEventListener('click', F(regeneratorRuntime.mark((function e() { return regeneratorRuntime.wrap(((e) => { for (;;) switch (e.prev = e.next) { case 0: return e.next = 2, n._favoriteRestaurants.putRestaurant(n._restaurant); case 2: n._renderButton(); case 3: case 'end': return e.stop(); } }), e); })))); }, _renderLiked() { const n = this; this._likeButtonContainer.innerHTML = '\n  <button aria-label="unlike this restaurant" id="likeButton" class="like">\n    <i class="fa fa-heart" aria-hidden="true"></i>\n  </button>\n', document.querySelector('#likeButton').addEventListener('click', F(regeneratorRuntime.mark((function e() { return regeneratorRuntime.wrap(((e) => { for (;;) switch (e.prev = e.next) { case 0: return e.next = 2, n._favoriteRestaurants.deleteRestaurant(n._restaurant.id); case 2: n._renderButton(); case 3: case 'end': return e.stop(); } }), e); })))); },
    }; function I(n, e, t, r, a, i, o) { try { var s = n[i](o); var u = s.value; } catch (n) { return void t(n); }s.done ? e(u) : Promise.resolve(u).then(r, a); } function z(n) { return function () { const e = this; const t = arguments; return new Promise(((r, a) => { const i = n.apply(e, t); function o(n) { I(i, r, a, o, s, 'next', n); } function s(n) { I(i, r, a, o, s, 'throw', n); }o(void 0); })); }; } const q = {
      '/': v,
      '/home-page': v,
      '/detail/:id': {
        render() { return z(regeneratorRuntime.mark((function n() { return regeneratorRuntime.wrap(((n) => { for (;;) switch (n.prev = n.next) { case 0: return n.abrupt('return', '\n      <div id="detail" class="detail"></div>\n      <div id="likeButtonContainer"></div>\n    '); case 1: case 'end': return n.stop(); } }), n); })))(); },
        afterRender() {
          return z(regeneratorRuntime.mark((function n() {
            let e; let t; return regeneratorRuntime.wrap(((n) => {
              for (;;) {
                switch (n.prev = n.next) {
                  case 0: return e = a.parseActiveUrlWithoutCombiner(), n.next = 3, p.detailRestaurant(e.id); case 3: t = n.sent, document.querySelector('#detail').innerHTML = d(t), D.init({
                    likeButtonContainer: document.querySelector('#likeButtonContainer'),
                    favoriteRestaurants: R,
                    restaurant: {
                      id: t.id, city: t.city, name: t.name, rating: t.rating, description: t.description, pictureId: t.pictureId,
                    },
                  }); case 7: case 'end': return n.stop();
                }
              }
            }), n);
          })))();
        },
      },
      '/favorite': { render() { return T(regeneratorRuntime.mark((function n() { return regeneratorRuntime.wrap(((n) => { for (;;) switch (n.prev = n.next) { case 0: return n.abrupt('return', j.getTemplate()); case 1: case 'end': return n.stop(); } }), n); })))(); }, afterRender() { return T(regeneratorRuntime.mark((function n() { return regeneratorRuntime.wrap(((n) => { for (;;) switch (n.prev = n.next) { case 0: new S({ view: j, favoriteRestaurants: R }), new L({ view: j, favoriteRestaurants: R }); case 2: case 'end': return n.stop(); } }), n); })))(); } },
    }; function U(n, e, t, r, a, i, o) { try { var s = n[i](o); var u = s.value; } catch (n) { return void t(n); }s.done ? e(u) : Promise.resolve(u).then(r, a); } function H(n, e) { for (let t = 0; t < e.length; t++) { const r = e[t]; r.enumerable = r.enumerable || !1, r.configurable = !0, 'value' in r && (r.writable = !0), Object.defineProperty(n, r.key, r); } } const N = (function () { function n(e) { const t = e.button; const r = e.drawer; const a = e.content; !(function (n, e) { if (!(n instanceof e)) throw new TypeError('Cannot call a class as a function'); }(this, n)), this._button = t, this._drawer = r, this._content = a, this._initialAppShell(); } let e; let t; let i; let o; let s; return e = n, (t = [{ key: '_initialAppShell', value() { r.init({ button: this._button, drawer: this._drawer, content: this._content }); } }, { key: 'renderPage', value: (o = regeneratorRuntime.mark((function n() { let e; let t; return regeneratorRuntime.wrap((function (n) { for (;;) switch (n.prev = n.next) { case 0: return e = a.parseActiveUrlWithCombiner(), t = q[e], n.next = 4, t.render(); case 4: return this._content.innerHTML = n.sent, n.next = 7, t.afterRender(); case 7: document.querySelector('.skip-link').addEventListener('click', ((n) => { n.preventDefault(), document.querySelector('#mainContent').focus(); })); case 9: case 'end': return n.stop(); } }), n, this); })), s = function () { const n = this; const e = arguments; return new Promise(((t, r) => { const a = o.apply(n, e); function i(n) { U(a, t, r, i, s, 'next', n); } function s(n) { U(a, t, r, i, s, 'throw', n); }i(void 0); })); }, function () { return s.apply(this, arguments); }) }]) && H(e.prototype, t), i && H(e, i), Object.defineProperty(e, 'prototype', { writable: !1 }), n; }()); const W = t(4); const G = t.n(W); function Q(n, e, t, r, a, i, o) { try { var s = n[i](o); var u = s.value; } catch (n) { return void t(n); }s.done ? e(u) : Promise.resolve(u).then(r, a); } const J = (function () { let n; const e = (n = regeneratorRuntime.mark((function n() { return regeneratorRuntime.wrap(((n) => { for (;;) switch (n.prev = n.next) { case 0: if (!('serviceWorker' in navigator)) { n.next = 4; break; } return n.next = 3, G.a.register(); case 3: return n.abrupt('return'); case 4: console.log('Service worker not supported in this browser'); case 5: case 'end': return n.stop(); } }), n); })), function () { const e = this; const t = arguments; return new Promise(((r, a) => { const i = n.apply(e, t); function o(n) { Q(i, r, a, o, s, 'next', n); } function s(n) { Q(i, r, a, o, s, 'throw', n); }o(void 0); })); }); return function () { return e.apply(this, arguments); }; }()); const V = new N({ button: document.querySelector('#hamburgerButton'), drawer: document.querySelector('#navigationDrawer'), content: document.querySelector('#mainContent') }); window.addEventListener('hashchange', (() => { V.renderPage(); })), window.addEventListener('load', (() => { V.renderPage(), J(); }));
  }]));
